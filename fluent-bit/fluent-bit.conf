[SERVICE]
    Flush        1
    Daemon       Off
    Log_Level    info
    Parsers_File parsers.conf
    # Enable HTTP Server for monitoring Fluent Bit itself (optional)
    HTTP_Server  On
    HTTP_Listen  0.0.0.0
    HTTP_Port    2020

# Include configurations from subdirectories
@INCLUDE inputs/*.conf
@INCLUDE filters/*.conf

# Define Outputs (can also be included if preferred)
[OUTPUT]
    Name        http
    Match       * # Match all tags for now
    Host        api # Service name of the main API
    Port        8080
    URI         /api/logs # Endpoint on the main API service
    Format      json # Send logs as JSON payload
    Json_Date_Key timestamp # Use 'timestamp' field for the date
    Json_Date_Format iso8601 # Format timestamp as ISO8601
    Retry_Limit 5 # Retry sending failed chunks